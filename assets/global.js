(()=>{"use strict";var e,t,i,r={9299:(e,t,i)=>{i.d(t,{Ad:()=>u,BE:()=>h,Dk:()=>p,R9:()=>w,mo:()=>l,nl:()=>f,sg:()=>y,vk:()=>g,yw:()=>m});var r=i(5861),n=i(4572),o=i(6117);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c{constructor(e,t){(0,n.Z)(this,"send",(()=>{window.datalayer=[],window.dataLayer.push(s({event:this.eventName},this.data))})),this.eventName=e,this.data=t}}var l=()=>{var e={},t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}),i=t.promotion_name,r=t.promotion_id,n=t.creative_name;return i&&(e={promotionName:i,promotionId:r,creativeName:n}),e},d=e=>e.map(((e,t)=>{var i=null==e?void 0:e.variant_title;i||(i=e.variants?e.variants[0].title:e.product_title);var r=(null==e?void 0:e.price)||e.variants[0].price;return{item_id:"".concat(e.id),item_name:"".concat(e.title),index:"".concat(t),item_brand:"".concat(e.vendor),item_variant:"".concat(i),price:.01*r,quantity:1}})),p=()=>{var e=document.querySelectorAll("[data-promotion-product-url]"),{promotionId:t,promotionName:i,creativeName:r}=l();i&&e.forEach((e=>{var n=v(e,t,i,r);e.href=n}))},u=()=>{var e=document.querySelectorAll('[action = "/cart/add"]'),{promotionId:t,promotionName:i,creativeName:r}=l(),n='<input type="hidden" name=properties[_promotionId] value=\''.concat(t,"' />\n\t<input type=\"hidden\" name=properties[_promotionName] value='").concat(i,"' />\n\t<input type=\"hidden\" name=properties[_creativeName] value='").concat(r,"' />\n\t");t&&e.forEach((e=>{e.querySelector('[name="properties[_promotionId]"]')||e.insertAdjacentHTML("beforeend",n)}))},v=(e,t,i,r)=>"".concat(e,"?promotion_id=").concat(t,"&promotion_name=").concat(i,"&creative_name=").concat(r),m=function(){var e=(0,r.Z)((function*(e,t,i,r){new c("custom_promotion_click",{promotion_id:i,promotion_name:t,creative_name:r}).send(),window.location.href=v(e,i,t,r)}));return function(t,i,r,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((function*(e,t,i,r){var n=[yield(0,o.yS)(e)],a=s(s({},{promotion_id:i,item_list_id:i,item_list_name:t,promotion_name:t,creativeName:r}),{},{selectedItem:d(n)});new c("custom_select_item",a).send()}));return function(t,i,r,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((function*(e,t,i,r){var n=yield(0,o.QV)(e),a=s(s({},{promotion_id:i,item_list_id:i,item_list_name:t,promotion_name:t,creative_name:r}),{},{viewedItems:d(n)});new c("custom_view_item_list",a).send()}));return function(t,i,r,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)((function*(e,t,i,r){var n,a,s=(null===(n=window.shopifyVariables)||void 0===n?void 0:n.activeCurrency)||"CAD",l=[yield(0,o.yS)(e)],p={currency:"".concat(s),value:.01*(null===(a=l[0])||void 0===a?void 0:a.price),promotion_id:i,promotion_name:t,creative_name:r,viewedItem:d(l)};new c("custom_view_item",p).send()}));return function(t,i,r,n){return e.apply(this,arguments)}}(),y=(e,t,i,r)=>{var n,o=d([e]),[{price:a}]=o,s={promotion_id:i,promotion_name:t,creative_name:r,currency:(null===(n=window.shopifyVariables)||void 0===n?void 0:n.activeCurrency)||"CAD",value:"".concat(a),addedItems:o};new c("custom_add_to_cart",s).send()},g=(e,t,i)=>{new c("custom_view_promotion",{promotion_id:t,promotion_name:e,creative_name:i}).send()}},6117:(e,t,i)=>{i.d(t,{QV:()=>n,yS:()=>o});var r=i(5861),n=function(){var e=(0,r.Z)((function*(e){var t="/collections/".concat(e,"?view=data-json"),i=yield fetch(t);return yield i.json()}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)((function*(e){var t="/products/".concat(e,".js"),i=yield fetch(t);return yield i.json()}));return function(t){return e.apply(this,arguments)}}()},5838:(e,t,i)=>{i.d(t,{a5:()=>o,bK:()=>s,i6:()=>a});var r=i(9299),n=i(7194),o=()=>{var e=window.location.href;if(e.includes("/collections/")){var t=e.split("/collections/")[1].split("?")[0],{promotionName:i,promotionId:n,creativeName:o}=(0,r.mo)()||{};i&&((0,r.nl)(t,i,n,o),(0,r.Ad)())}if(e.includes("/products/")){var a=e.split("/products/")[1].split("?")[0],{promotionId:s,promotionName:c,creativeName:l}=(0,r.mo)()||{};s&&((0,r.R9)(a,c,s,l),(0,r.Ad)())}},a=(e,t,i)=>{if(e.closest("[data-promotion]"))if(e.closest('[data-promotion = "false"]'))i.metaKey||i.ctrlKey?(i.preventDefault(),i.stopPropagation(),window.open(t,"_blank")):window.location.href=t;else{var n=e.dataset.promotionName,o=e.dataset.promotionId,a=e.dataset.creativeName;(0,r.yw)(t,n,o,a)}if(e.closest('[data-section-type="collection"]')){var{promotionId:s,promotionName:c,creativeName:l}=(0,r.mo)()||{};if(s){var d=e.href.split("?")[0];d=d.split("/products/")[1],(0,r.BE)(d,c,s,l)}}},s=()=>{var e=document.querySelectorAll("[data-promotion]");new n.H(((e,t)=>{e.forEach((e=>{if(!e.target.closest('[data-promotion = "false"]')&&e.isIntersecting){var i=e.target.dataset.promotionId,n=e.target.dataset.promotionName,o=e.target.dataset.creativeName;(0,r.vk)(n,i,o),t.unobserve(e.target)}}))}),e).init()}},5448:(e,t,i)=>{var r=i(7090),n=i.n(r),o=(i(5507),i(1770),i(1035),i(9145),i(3501),i(5021)),a=i(5838),s=i(9299),c=i(9910),l=e=>{document.querySelectorAll('[action="/cart/add"]').forEach((e=>{new c.Z(e).on("submit",(e=>(e.preventDefault(),!1)))}))},d=e=>{(e?e.querySelectorAll('[action="/cart/add"]'):document.querySelectorAll('[action="/cart/add"]')).forEach((e=>{var t=e.querySelector('[type="submit"]'),i=new c.Z(t);i.off(),i.on("click",(e=>{e.preventDefault();var t=e.target.closest('[action="/cart/add"]'),i=Rebuy.util.serializeForm(t);return Rebuy.Cart.addItem(i)}))}))},p=i(7328);var u=i(4572),v=i(5987),m=i(8592),h=i(5560),f=["breakpoints"],w=["pagination","navigation"],y=["navigation","pagination","progressPagination"];function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,u.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class _ extends HTMLElement{constructor(){super(),this.carouselSettings,this.currentWidth,this.innerHTML,this.container}connectedCallback(){if(this.innerHTML.length>0)this.initCarousel();else{var e=this,t=window.setInterval((()=>{this.innerHTML.length>0&&(e.initCarousel(),(0,p.Z)(this),window.clearInterval(t),t=!1)}),500);window.setTimeout((()=>{t&&window.clearInterval(t)}),5e3)}}getCarouselSettings(){this.currentWidth=window.innerWidth;var e={slidesPerView:1,spaceBetween:15,speed:1e3,navigation:!1},t=this.carouselSettings,{breakpoints:i}=t,r=(0,v.Z)(t,f);if(i&&(this.breakpoints=Object.keys(i),this.breakpoints.forEach(((e,t)=>{if(this.currentWidth>=e){i[e]?this.breakpointSettings=i[e]:this.breakpointSettings=i[this.breakpoints[t-1]];var n=this.breakpointSettings,{pagination:o,navigation:a}=n,s=(0,v.Z)(n,w);this.carouselSettings=b(b(b({},r),s),{},{pagination:o,navigation:a})}}))),this.carouselSettings&&Object.keys(this.carouselSettings).length>0){var n=this.carouselSettings,{navigation:o,pagination:a,progressPagination:s}=n;if(e=b({},(0,v.Z)(n,y)),o){var c=this.querySelector(".swiper-navigation--next"),l=this.querySelector(".swiper-navigation--prev");e=b(b({},e),{},{navigation:{nextEl:c,prevEl:l}})}if(a){var d=this.querySelector(".swiper-pagination"),p={el:d,clickable:!0};s&&(p={el:d,type:"progressbar"}),e=b(b({},e),{},{pagination:p})}}return e}initCarousel(){var e,t,i;this.carouselSettings=JSON.parse((null===(e=this.querySelector("[data-settings]"))||void 0===e?void 0:e.innerHTML)||"{}"),this.carouselContent=null===(t=this.querySelector("[data-carousel-content]"))||void 0===t?void 0:t.innerHTML,this.placeholders=null===(i=this.querySelector("[data-carousel-placeholder]"))||void 0===i?void 0:i.innerHTML,this.navigations=this.querySelector("[data-swiper-navigations]"),this.currentWidth=window.innerWidth;var r='\n      <div class="swiper-navigation swiper-navigation--next '.concat(this.carouselSettings.overflowNagivation?"swiper-navigation--overflow":"",' ">\n      <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">\n      <circle cx="21" cy="21" r="21" fill="#ED1C24"/>\n      <path d="M18.9414 14.8237L24.7061 20.5884L18.9414 26.3531" stroke="white" stroke-width="2" stroke-linecap="square"/>\n      </svg>\n    </div>\n    <div class="swiper-navigation swiper-navigation--prev ').concat(this.carouselSettings.overflowNagivation?"swiper-navigation--overflow":"",' ">\n      <svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42" fill="none">\n        <circle cx="21" cy="21" r="21" fill="#ED1C24"/>\n        <path d="M22.7061 26.353L16.9413 20.5883L22.7061 14.8236" stroke="white" stroke-width="2" stroke-linecap="square"/>\n      </svg>\n    </div>\n    ');this.carouselContent?this.innerHTML='<div class="carousel__container swiper hide" data-swiper-container>\n    <div class="swiper-wrapper">\n    '.concat(this.carouselContent,'\n    </div> </div>\n    <div class="swiper-pagination"></div>\n    ').concat(this.carouselSettings.customNavigation?"":r,"\n    ").concat(this.placeholders?this.placeholders:'<div class="carousel-placeholders"></div>'):!this.carouselSettings.customNavigation&&(this.navigations.innerHTML=r),this.container=this.querySelector("[data-swiper-container]");var n=this.getCarouselSettings();this.swiper=new m.Z(this.container,b({on:{beforeInit:()=>{var{navigation:e,pagination:t}=n||{};e?this.querySelector(".swiper-navigation--hide")&&this.querySelectorAll(".swiper-navigation--hide").forEach((e=>e.classList.remove("swiper-pagination--hide"))):this.querySelectorAll(".swiper-navigation").forEach((e=>e.classList.add("swiper-navigation--hide"))),t?this.querySelector(".swiper-pagination--hide")&&this.querySelectorAll(".swiper-pagination--hide").forEach((e=>e.classList.remove("swiper-pagination--hide"))):this.querySelectorAll(".swiper-pagination").forEach((e=>e.classList.add("swiper-pagination--hide")))},init:e=>{e.navigation&&e.navigation.destroy()},afterInit:()=>{var e;this.querySelector(".carousel__container").classList.remove("hide"),null===(e=this.querySelector(".carousel-placeholders"))||void 0===e||e.classList.add("hide")}},modules:[h.W_,h.tl]},n)),this.swiper.on("activeIndexChange",(e=>{var t,i;null===(t=this.querySelector(".swiper-pagination-bullet-active"))||void 0===t||t.classList.remove("swiper-pagination-bullet-active"),null===(i=this.querySelectorAll(".swiper-pagination-bullet")[e.activeIndex])||void 0===i||i.classList.add("swiper-pagination-bullet-active")}))}}const S=_;class O extends HTMLElement{constructor(){super(),this.HTMLElement=this.innerHTML}}const j=O;n().cfg.loadMode=1,document.addEventListener("DOMContentLoaded",(()=>{var e;(()=>{document.querySelectorAll("[data-megamenu-mobile]").forEach((e=>{var t=e.dataset.megamenuId;if(t){var i=document.querySelector("[data-mobile-megamenu-target-".concat(t,"]"));i&&i.appendChild(e)}})),document.querySelectorAll("[data-megamenu-desktop]").forEach((e=>{var t=e.dataset.megamenuId;if(t){var i=document.querySelector("[data-desktop-megamenu-target-".concat(t,"]"));i&&i.appendChild(e)}}));var e=document.querySelector(".shopify-section__header"),t=document.querySelector(".header__search-bar-wrapper--mobile"),i=document.querySelector(".nav-bar__inner"),r=document.querySelector(".header__action-item-link--search");Window.custom={rebuyTag:"minerals"},window.searchOpen=!0,window.addEventListener("scroll",(()=>{var n;n=window.scrollY,t.style.opacity=1-n/85,i.style.opacity=1-n/10,r.style.opacity=0+n/10,n<=150?e.classList.contains("shopify-section__header--fixed")&&e.classList.remove("shopify-section__header--fixed"):e.classList.add("shopify-section__header--fixed")}))})(),l(),(e=document.querySelector('[data-action="toggle-mini-cart"]'))&&(e.removeAttribute("data-action"),e.removeAttribute("href")),e.addEventListener("click",(()=>{var e,t;null!==(e=window.Rebuy)&&void 0!==e&&null!==(e=e.SmartCart)&&void 0!==e&&e.show&&(null===(t=window.Rebuy)||void 0===t||null===(t=t.SmartCart)||void 0===t||t.show())})),window.addEventListener("variant:changed",(()=>{document.querySelectorAll('[data-action="add-to-cart"]').forEach((e=>{e.removeAttribute("data-action")})),(0,s.Ad)(),l()})),window.addEventListener("modal:open",(()=>{l(),d(),(0,s.Ad)()})),document.addEventListener("rebuy:cart.add",(e=>{var t,{item:i}=null==e?void 0:e.detail;null!==(t=i.properties)&&void 0!==t&&t._promotionId&&(0,s.sg)(i,i.properties._promotionName,i.properties._promotionId,i.properties._creativeName)})),window.ProductList&&(window.ProductList.prototype.afterRender=function(){(0,s.Dk)(),(0,s.Ad)();var e=document.querySelector('[data-section-type="collection"]');(0,p.Z)(e),window.customProductCard(),l(),d()}),(0,a.a5)(),(0,o.z2)(),customElements.define("custom-carousel",S),customElements.define("product-card",j),(0,a.bK)(),(0,p.Z)(),document.querySelectorAll("[data-test]").forEach((e=>{e.previousElementSibling.outerHTML=e.previousElementSibling.outerHTML.replaceAll("<script","<span"),e.addEventListener("click",(e=>{var t=e.target.closest("[data-container]"),i=null==t?void 0:t.querySelector("[data-content-half]"),r=null==t?void 0:t.querySelector("[data-content-full]");i.classList.contains("text-wrap__description--hidden")?(i.style.display="none",r.style.display="block"):(i.style.display="block",r.style.display="none")}))})),(()=>{var e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).variant_id;if(e){var t=e.split(","),i=setInterval((()=>{var e,r;null!==(e=window.Rebuy)&&void 0!==e&&null!==(e=e.SmartCart)&&void 0!==e&&e.cart&&(clearInterval(i),i=!1,(r=t.filter((e=>[...e].length>0)).map((e=>({id:parseInt(e),quantity:1})))).length&&Rebuy.Cart.addItem({items:r}))}),500);setTimeout((()=>{i&&clearInterval(i)}),8e3)}})()}))}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e].call(i.exports,i,i.exports,o),i.exports}o.m=r,e=[],o.O=(t,i,r,n)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,r,n]=e[d],s=!0,c=0;c<i.length;c++)(!1&n||a>=n)&&Object.keys(o.O).every((e=>o.O[e](i[c])))?i.splice(c--,1):(s=!1,n<a&&(a=n));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);o.r(n);var a={};t=t||[null,i({}),i([]),i(i)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=i(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,o.d(n,a),n},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=2172,(()=>{var e={2172:0};o.O.j=t=>0===e[t];var t=(t,i)=>{var r,n,[a,s,c]=i,l=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var d=c(o)}for(t&&t(i);l<a.length;l++)n=a[l],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},i=self.webpackChunkshoptrade_Shopify_Development=self.webpackChunkshoptrade_Shopify_Development||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var a=o.O(void 0,[1216,3712],(()=>o(5448)));a=o.O(a)})();