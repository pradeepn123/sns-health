
{{'banner-product.css' | asset_url | stylesheet_tag }}
{{ 'banner-featured-products.css' | asset_url | stylesheet_tag }}
<div class="banner-product banner-featured-products product-card-wrapper">
    <div class="banner-product__content">
            {% for block in section.blocks %}
                {% if block.type == "featured_products" %} 
                <div class="banner-product__products-wrapper">
                      <div class="banner-product__products-content banner-product__products-content--desktop"> 
                      {% liquid 
                        assign id = block.id
                        assign color = block.settings.color
                        assign eyebrow = block.settings.eyebrow
                        assign heading = block.settings.heading
                        assign subheading = block.settings.subheading
                        assign cta_text = block.settings.cta_text
                        assign cta_url = block.settings.cta_url
                        assign image_desktop = block.settings.image_desktop
                        assign image_mobile = block.settings.image_mobile
                        assign inline_heading = block.settings.inline_heading
                        assign button_type = 'outline'
                        assign button_background_type = 'transparent'
                      %}  
                          {% render 'image-with-text-overlay', 
                            wrapper_class: "sidebar-banner-content"
                            id: id,
                            color: color,
                            eyebrow: eyebrow,
                            heading: heading, 
                            subheading: subheading, 
                            cta_text: cta_text, 
                            cta_url: cta_url, 
                            image_desktop: image_desktop,
                            image_mobile: image_mobile,
                            text_wrapper_class: 'sidebar-banner',
                            inline_heading: inline_heading,
                            mobile_aspect_ratio: 1.94,
                            desktop_aspect_ratio: 1.15,
                            desktop_crop: true,
                            mobile_crop: true,
                            button_type: button_type,
                            button_background_type: button_background_type
                            %}
                   
                        {% assign limit  = 8 %}
                        {% assign count = 0 %}
                        {% assign collection_products = block.settings.collection.products | default: collection.products %} 
                        {% for product in collection_products %}
                          {% if count >= limit %} {% break %} {% endif %}
                            {% if product.available %}  
                            {% assign count = count | plus: 1 %}
                              <div class="swiper-slide product_card">
                                {% render 'custom-product-card',
                                  product: product
                                %}
                              </div>
                            {% endif %}
                        {% endfor %}
                      </div>
                      <div class="banner-product__products-content  banner-product__products-content--mobile">
                        {% liquid 
                          assign id = block.id
                          assign color = block.settings.color
                          assign eyebrow = block.settings.eyebrow
                          assign heading = block.settings.heading
                          assign subheading = block.settings.subheading
                          assign cta_text = block.settings.cta_text
                          assign cta_url = block.settings.cta_url
                          assign image_desktop = block.settings.image_desktop
                          assign image_mobile = block.settings.image_mobile
                          assign inline_heading = block.settings.inline_heading
                          assign button_type = 'outline'
                          assign button_background_type = 'transparent'
                        %}  
                            {% render 'image-with-text-overlay', 
                              wrapper_class: "sidebar-banner-content"
                              id: id,
                              color: color,
                              eyebrow: eyebrow,
                              heading: heading, 
                              subheading: subheading, 
                              cta_text: cta_text, 
                              cta_url: cta_url, 
                              image_desktop: image_desktop,
                              image_mobile: image_mobile,
                              text_wrapper_class: 'sidebar-banner',
                              inline_heading: inline_heading,
                              mobile_aspect_ratio: 1.94,
                              desktop_aspect_ratio: 1.15,
                              desktop_crop: true,
                              mobile_crop: true,
                              button_type: button_type,
                              button_background_type: button_background_type
                              %}
                        {% assign limit  = 4 %}
                        {% assign count = 0 %}
                        {% assign collection_products = block.settings.collection.products | default: collection.products %} 
                        {% for product in collection_products %} 
                        {% if count >= limit %} {% break %} {% endif %}
                        {% if product.available %}  
                        {% assign count = count | plus: 1 %}
                          {% render 'custom-product-card', product: product %}
                        {% endif %}
                        {% endfor %}
                      </div>
              </div>
                {% endif %}
              {% endfor %} 
    </div>
  </div>



  {% schema %}
 {
   "name": "banner-featured-products",
   "settings": [],
   "blocks": [
    {
      "type": "featured_products",
      "name": "Products",
      "settings": [
        {
            "type": "header",
            "content": "Featured collection banner"
        },
        {
            "type": "color",
            "id": "text_color",
            "label": "Text color"
        },
        {
          "type": "image_picker",
          "id": "image_desktop",
          "label": "Image"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "eyebrow",
          "label": "Eyebrow"
        },
        {
          "type": "text",
          "id":  "heading",
          "label": "Heading"
        },
        {
          "type": "checkbox",
          "id":  "inline_heading",
          "label": "Inline Heading ?",
          "default": false
        },
        {
          "type": "text",
          "id":  "subheading",
          "label": "Subheading"
        },
        {
          "type": "text",
          "id":  "cta_text",
          "label": "CTA Text"
        },
        {
          "type": "url",
          "id":  "cta_url",
          "label": "CTA url"
        },
        {
          "type": "collection",
          "id":  "collection",
          "label": "product Collection"
        }
       ]
    }
   ],
   "presets": [
    {
      "name": "banner-featured-products"
    }
   ]
 }

{% endschema %}