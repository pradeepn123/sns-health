{{'featured-products.css' | asset_url | stylesheet_tag }}
<div class="featured-products">
  {% assign collection = section.settings.collection %}
    {% render 'section-heading', heading: section.settings.heading, url: collection.url %}
    <div class="featured-products__wrapper product-card-wrapper">
     
            <div class="featured-products__content featured-products__content--desktop"> 
            <custom-carousel>
              <div class="custom-carousel__content hide" data-carousel-content>
              {% for product in collection.products %} 
              {% if product.available %}  
              <div class="swiper-slide">
               {% render 'custom-product-card',
                product:product
               %}
              </div>
            {% endif %}
              {% endfor %}
            </div>
              <script type="text/json" data-settings>
                  {
                    "slidesPerView": 3.01,
                    "spaceBetween": 10,
                    "overflowNagivation": true,
                    "progressPagination": true,
                    "pagination": false,
                    "breakpoints": {
                     "1024": {
                        "pagination": false,
                        "navigation": true,
                        "slidesPerView": 5,
                        "spaceBetween": 27.5
                      }
                    }
                  }
                </script>
          </custom-carousel>
            </div>
            <div class="featured-products__content featured-products__content--mobile">
              {% for product in collection.products limit:6 %} 
              {% if product.available %}  
                {% render 'custom-product-card', product: product %}
              {% endif %}
              {% endfor %}
            </div>
    </div>
</div>

{% schema %}
 {
   "name": "Featured-Products",
   "settings": [
     {
       "type": "text",
       "id": "heading",
       "label": "Section Heading"
     },
     {
       "type": "collection",
       "id": "collection",
       "label": "Collection"
     }
   ],
   "presets": [
    {
      "name": "featured-products"
    }
   ]
 }

{% endschema %}